# 金融研究代理示例

本示例展示了如何使用 Agents SDK 构建一个更强大的金融研究代理。这种模式类似于 `research_bot` 示例，但增加了更专业的子代理和验证步骤。

工作流程如下：

1. **规划**：规划代理将最终用户的请求转换为与金融分析相关的搜索词列表 – 包括最新新闻、财报电话会议、企业文件、行业评论等。
2. **搜索**：搜索代理使用内置的 `WebSearchTool` 为每个搜索词检索简要摘要。（如果您有已索引的 PDF 或 10-K 文件，还可以添加 `FileSearchTool`。）
3. **子分析师**：额外的代理（例如基本面分析师和风险分析师）作为工具暴露出来，以便写作者可以内联调用它们并整合其输出。
4. **写作**：高级写作代理将搜索片段和任何子分析师的总结整合成一份长篇 markdown 报告，并附带一个简短的执行摘要。
5. **验证**：最后的验证代理会审核报告，检查明显的不一致之处或缺失的来源引用。

您可以通过以下命令运行示例：

```bash
python -m examples.financial_research_agent.main
```

然后输入类似这样的查询：

```
写一份关于苹果公司最近一个季度的分析。
```

### 起始提示词

写作代理的初始指令类似于：

```
你是一位资深金融分析师。你将获得原始查询和一组原始搜索摘要。你的工作是将这些内容合成为一份长篇 markdown 
报告（至少包含几个段落）以及一个简短的执行摘要。你还可以使用像 `fundamentals_analysis` 和 
`risk_analysis` 这样的工具来获取专业分析的简短写作，如果你想将它们整合进去的话。
最后添加一些用于进一步研究的后续问题。
```

您可以根据自己的数据源和偏好的报告结构来调整这些提示词和子代理。
